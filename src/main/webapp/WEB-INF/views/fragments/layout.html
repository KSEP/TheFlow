<!DOCTYPE html SYSTEM "about:legacy-compat">
<html xmlns:th="http://www.thymeleaf.org" xmlns:tiles="http://www.thymeleaf.org">
<head>

</head>
<body>

<object th:fragment="styles">
    <link href="../../../resources/css/compiled.min.css" type="text/css" rel="stylesheet" th:href="@{/resources/css/compiled.min.css}"/>

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800,300&subset=latin,cyrillic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Slabo+27px" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Ubuntu+Condensed&subset=latin,cyrillic" rel="stylesheet" type="text/css">
</object>

<div th:fragment="header">
    <div class="container-fluid header-container navbar-fixed-top">
        <div class="container header-centred">
            <div id="header" class="header row">
                <div class="navbar">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header col-md-3">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#top-navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand logo logo-top" th:href="@{/home}">
                            <i class="fa fa-paper-plane"></i>&nbsp;<strong class="text-left"><small>the</small><b>Flow</b></strong>
                        </a>
                    </div>
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="top-navbar">
                        <div class="col-md-3 col-xs-3" th:switch="${#httpServletRequest.requestURI}">
                            <select id="search-issue-top" multiple="multiple" rel="<i class='fa fa-search'></i>&nbsp;Search isssues" th:case="'/theflow/issue/all'">
                                <option value="all" label-type="label-primary">All</option>
                                <option value="High" data-col="4" label-type="label-success">High priority</option>
                                <option value="New" data-col="2" label-type="label-warning">Recent</option>
                                <option th:value="${#authentication.principal.fullName}" data-col="5" label-type="label-info">Assigned to me</option>
                                <option value="Bug" data-col="3" label-type="label-danger">Bug</option>
                            </select>
                            <select id="search-issue-top" multiple="multiple" rel="<i class='fa fa-search'></i>&nbsp;Search isssues" th:case="'/theflow/home'">
                                <option value="all" label-type="label-primary">All</option>
                                <option value="High-filter" data-col="4" label-type="label-success">High priority</option>
                                <option value="New-filter" data-col="2" label-type="label-warning">Recent</option>
                                <option th:value="${#authentication.principal.fullName + '-filter'}" data-col="5" label-type="label-info">Assigned to me</option>
                                <option value="Bug-filter" data-col="3" label-type="label-danger">Bug</option>
                            </select>
                            <select id="search-issue-top" multiple="multiple" rel="<i class='fa fa-search'></i>&nbsp;Search isssues" th:case="'/theflow/issue/byproject'">
                                <option value="all" label-type="label-primary">All</option>
                                <option value="High" data-col="4" label-type="label-success">High priority</option>
                                <option value=New-issue" data-col="2" label-type="label-warning">Recent</option>
                                <option th:value="${#authentication.principal.fullName}" data-col="5" label-type="label-info">Assigned to me</option>
                                <option value="Bug" data-col="3" label-type="label-danger">Bug</option>
                            </select>
                        </div>
                        <div class="col-md-6 col-xs-6">
                            <ul class="nav navbar-nav navbar-right">
                                <li access="hasRole('Admin')" var="isAdmin" class="dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-cogs"></i> Admin tools</a>
                                    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#" th:href="@{/users/manage}">Manage users</a></li>
                                        <li role="presentation"><a role="menuitem" tabindex="-1" href="#" th:href="@{/projects/manage}">Manage projects</a></li>
                                    </ul>
                                </li>
                                <li class="dropdown">
                                    <a href="/profile" th:href="@{/profile}" class="dropdown-toggle" class="text-primary"><i class="fa fa-user"></i> <span sec:authentication="principal.fullName"> Profile</span></a>

                                </li>
                                <li><a href="/logout" th:href="@{/logout}" class="text-primary"><i class="glyphicon glyphicon-new-window"></i> Logout</a></li>
                            </ul>
                        </div>
                    </div><!-- /.navbar-collapse -->
                </div>
            </div>
        </div>
    </div>
</div>

<div id="sidebar" class="col-md-3 col-xs-12" th:fragment="sidebar">
    <a th:href="@{/issue/add}" class="fancy-button medium blueHole basic">New issue <span class="icon"><i class="fa fa-file"></i></span></a>
    <a th:href="@{/issue/all}" class="fancy-button medium blueRiver basic">All issues <span class="icon"><i class="fa fa-user"></i></span></a>
    <div class="well well-sm">
        <h3>Projects:</h3>
        <div class="scroll-tree">
            <ul class="nav nav-pills nav-stacked sidebar" th:each="project : ${projects}">
                <li><a th:text="${project.projName}" th:href="@{'/issue/byproject/' + ${project.projectId}}"></a></li>
            </ul>
        </div>
    </div>
    <a th:href="@{/project/add}" class="fancy-button medium blueHole basic">New project <span class="icon"><i class="fa fa-asterisk"></i></span></a>
</div>

<!--/*  Multiple fragments may be defined in one file */-->
<div th:fragment="footer">
    <div id="footer">
        <div class="container">
            <p class="muted credit text-center">&copy; theFloat 2015 <span th:text="${#httpServletRequest.requestURI}"></span></p>
        </div>
    </div>
</div>

<div th:fragment="footer-admin">
    <div id="footer">
        <div class="container">
            <p class="muted credit text-center">&copy; theFloat 2015 | admin</p>
        </div>
    </div>
</div>

<object th:fragment="script">
    <!-- Common JS -->
    <script src="../../../resources/js/jquery.min.js" type="text/javascript" th:src="@{/resources/js/compiled.min.js}"></script>
</object>

</body>
</html>

